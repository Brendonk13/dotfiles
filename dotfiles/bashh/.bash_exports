#!/bin/env bash
export EDITOR=nvim

if cat /proc/version | grep Microsoft >/dev/null 2>&1; then

    export submit="/mnt/c/Users/Brendon*/Documents/b-submissions/"
    export doc="/mnt/c/Users/Brendon*/Documents/"
    export dow="/mnt/c/Users/Brendon*/Downloads/"
    export song="/mnt/c/Users/Brendon*/Documents/Documents/07*/music*/"
    export _Z_DATA="$HOME/FromInternet/z/.z"

    export VISUAL="nvim"
    # using this and XCsrv1.20.1.4
    #export DISPLAY=localhost:0.0
    export RIPGREP_CONFIG_PATH="$HOME/FromInternet/.ripgreprc"

else
    export dow="$HOME/Downloads/"
    export submit="$HOME/Documents/Mcgill/submissions/"
    export sem="/home/brendonk/Documents/Mcgill/5th-year/fall-sem/"
    export mors="$HOME/PyStuff/morsels/"

    export _Z_DATA="$HOME/.config/.z_data_file"
    export RIPGREP_CONFIG_PATH=$HOME/.config/.ripgreprc

    # have this in here since haven't downloaded nvr on windows partition
    if [ -n "$NVIM_LISTEN_ADDRESS" ]; then
        #export VISUAL="nvr --remote-tab"
        export VISUAL="nvr"
    else
        export VISUAL="nvim"
    fi

    export JAVA_HOME="/opt/java/jdk1.8.0_221"
    export PATH=$PATH:"/opt/java/jdk1.8.0_221/bin"


fi

# colored GCC warnings and errors
export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'

#Avoid duplicate entries
export HISTCONTROL=ignoredups:erasedups

shopt -s histappend

# https://unix.stackexchange.com/questions/18212/bash-history-ignoredups-and-erasedups-setting-conflict-with-common-history/18443#18443
# so for some reason its actually a pain to get bash history working WELL
# this solution works bad but not awfully, from above link
# could check reddit and man pages myself if care to fix one day
PROMPT_COMMAND="history -n; history -w; history -c; history -r; $PROMPT_COMMAND"

#export PROMPT_COMMAND="history -a; history -n; ${PROMPT_COMMAND}"
